[build]
  command = "npm run build -- --localize"
  publish = "dist/portfolio/browser"

[[redirects]]
  from = "/*"
  to = "/es/"
  status = 302
  force = false
  conditions = {Language = ["es"]}

[[redirects]]
  from = "/*"
  to = "/en/"
  status = 302
  force = false
  conditions = {Language = ["en"]}

[[redirects]]
  from = "/*"
  to = "/en/"
  status = 302
  force = false

# Client-side routing (SPA)
[[redirects]]
  from = "/es/*"
  to = "/es/index.html"
  status = 200

[[redirects]]
  from = "/en/*"
  to = "/en/index.html"
  status = 200